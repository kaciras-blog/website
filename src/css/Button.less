@import "ToBeImpoert";

//基本按钮背景颜色
@color-button-base: #00c6ff;
//基本按钮文字颜色
@color-button-base-text: #ffffff;

//次要按钮背景颜色
@color-button-minor: #e7e7e7;
//次要按钮文字颜色
@color-button-minor-text: #5f5f5f;

//危险按钮背景颜色
@color-button-dangerous: #ef4c42;
//危险按钮文字颜色
@color-button-dangerous-text: #f7f7f7;

@color-button-info: #f151bb;
@color-button-info-text: #5f5f5f;

@stripeWidth: 32px; // 条纹宽度

.button, button {
	transition: ease-in-out .15s;
	font-size: 1rem;
	padding: .4rem 1.2rem;
	text-align: center;
	position: relative;
	border: none;
	border-radius: 5px;

	.click-item;
	.button-color("base");

	&.icon {
		font-size: 1.3rem;
		padding: .3rem;
	}

	&.transparent {
		color: @color-text;
		background: none;
		&:hover {
			color: @color-text  + #303030;
		}
	}

	&.dangerous {.button-color("dangerous");}
	&.info {.button-color("info");}
	&.minor {.button-color("minor");}

	&:focus {
		outline: 0;
	}

	&:disabled, :disabled:hover {
		cursor: initial;
		color: @color-text-minor;
		border-color: @color-text-minor;
		background-color: transparent;
	}
}

.button-color(@name) {
	@ref: "color-button-@{name}";
	@reft: "color-button-@{name}-text";

	background-color: @@ref;
	color: @@reft;

	&:not(.outline):not(.busy):hover {
		background-color: @@ref - #101010;

		&::after {
			content: "";
			pointer-events: none;
			opacity: 0;
			display: block;
			position: absolute;
			animation: btxn .4s;
			.margin-abs(-1px);

			border-radius: 6px;
			border: solid 4px @@ref;
		}
	}

	&:focus{
		box-shadow: 0 0 0 1px transparent, 0 0 0 .2rem fade(@@ref, 60%);
	}

	&:active {
		background-color: @@ref - #080808;
		color: @@reft;
	}

	&.outline {
		background-color: transparent;
		color: @@ref;
		border: solid 1px @@ref;

		&:hover {
			color: @@reft;
			background-color: @@ref;
		}
		&:active {
			background-color: @@ref + #0a0a0a;
		}
	}

	&.busy {
		@c: lighten(@@ref, 12%);
		background-size: @stripeWidth @stripeWidth;
		background-image: linear-gradient(-45deg, @c 25%, transparent 25%, transparent 50%, @c 50%, @c 75%, transparent 75%);
		animation: barbershop linear .4s infinite;
	}

}

@keyframes btxn {
	0% {
		opacity: 1;
	}
	100% {
		opacity: 0;
		transform: scale(1.075, 1.2);
	}
}

// 国内理发店就是这个效果
@keyframes barbershop {
	from {background-position: 0;}
	to {background-position: -@stripeWidth;}
}
